<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Now - Instant Quote & Payment | Maid For Heaven NYC</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/book-now.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <a href="index.html">Maid For Heaven NYC</a>
            </div>
            <nav class="nav-menu">
                <a href="index.html">HOME</a>
                <a href="services.html">SERVICES</a>
                <a href="about.html">ABOUT</a>
                <a href="faq.html">FAQ</a>
                <a href="contact.html">CONTACT</a>
                <a href="tel:+13477592000" class="phone-btn">(347) 759-2000</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="booking-layout">
                <!-- Left Column: Booking Form -->
                <div class="booking-form-section">
                    <div class="section-header">
                        <h1>üìÖ Book Your Cleaning Service</h1>
                        <p>Get instant pricing with no hidden fees. Professional cleaning team.</p>
                    </div>

                    <form id="bookingForm" class="booking-form">
                        <!-- Service Type Selection -->
                        <div class="form-group">
                            <label>Service Type</label>
                            <div class="service-options">
                                <div class="service-option" data-service="standard" data-rate="50">
                                    <div class="service-icon">üè†</div>
                                    <div class="service-details">
                                        <h3>Standard Cleaning</h3>
                                        <p>Regular maintenance cleaning for your home</p>
                                        <span class="service-rate">$50/hr</span>
                                    </div>
                                </div>
                                
                                <div class="service-option" data-service="deep" data-rate="55">
                                    <div class="service-icon">‚ú®</div>
                                    <div class="service-details">
                                        <h3>Deep Cleaning</h3>
                                        <p>Thorough cleaning including baseboards, inside appliances</p>
                                        <span class="service-rate">$55/hr</span>
                                    </div>
                                </div>
                                
                                <div class="service-option" data-service="moveout" data-rate="60">
                                    <div class="service-icon">üì¶</div>
                                    <div class="service-details">
                                        <h3>Move-Out Cleaning</h3>
                                        <p>Complete cleaning for moving out or post-construction</p>
                                        <span class="service-rate">$60/hr</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Property Details -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="bedrooms">Bedrooms</label>
                                <select id="bedrooms" name="bedrooms" required>
                                    <option value="">Select bedrooms</option>
                                    <option value="studio">Studio</option>
                                    <option value="1br">1 Bedroom</option>
                                    <option value="2br">2 Bedrooms</option>
                                    <option value="3br">3 Bedrooms</option>
                                    <option value="4br">4 Bedrooms</option>
                                    <option value="5br">5+ Bedrooms</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="bathrooms">Bathrooms</label>
                                <select id="bathrooms" name="bathrooms" required>
                                    <option value="">Select bathrooms</option>
                                    <option value="1">1 Bathroom</option>
                                    <option value="1.5">1.5 Bathrooms</option>
                                    <option value="2">2 Bathrooms</option>
                                    <option value="2.5">2.5 Bathrooms</option>
                                    <option value="3">3 Bathrooms</option>
                                    <option value="3.5">3.5 Bathrooms</option>
                                    <option value="4">4+ Bathrooms</option>
                                </select>
                            </div>
                        </div>

                        <!-- Date and Time -->
                        <div class="form-row">
                            <div class="form-group">
                                <label for="preferredDate">Preferred Date</label>
                                <input type="date" id="preferredDate" name="date" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="preferredTime">Preferred Time</label>
                                <select id="preferredTime" name="time" required>
                                    <option value="">Select time</option>
                                    <option value="morning">Morning (8:00 AM - 12:00 PM)</option>
                                    <option value="afternoon">Afternoon (12:00 PM - 5:00 PM)</option>
                                    <option value="evening">Evening (5:00 PM - 8:00 PM)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Calendar Conflict Detection -->
                        <div id="calendarConflict" class="calendar-conflict" style="display: none;">
                            <div class="conflict-message">
                                <span class="conflict-icon">‚ö†Ô∏è</span>
                                <span class="conflict-text">Time slot conflict detected! This time slot is not available.</span>
                            </div>
                            <div class="alternative-times">
                                <p><strong>Available alternatives:</strong></p>
                                <div id="alternativeTimes" class="alternative-time-buttons"></div>
                            </div>
                        </div>

                        <!-- Customer Information -->
                        <div class="form-group">
                            <label for="address">Service Address</label>
                            <input type="text" id="address" name="address" placeholder="Enter your full address" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Full Name</label>
                                <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" name="email" placeholder="Enter your email" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
                        </div>

                        <div class="form-group">
                            <label for="instructions">Special Instructions (Optional)</label>
                            <textarea id="instructions" name="instructions" placeholder="Any special requests or areas of focus?"></textarea>
                        </div>
                    </form>
                </div>

                <!-- Right Column: Quote Summary -->
                <div class="quote-section">
                    <div class="quote-card">
                        <h2>üí∞ Instant Quote</h2>
                        <p>Professional cleaning with 100% satisfaction guarantee</p>
                        
                        <div class="quote-details">
                            <div class="quote-line">
                                <span>Service Type:</span>
                                <span id="quoteService">Select service</span>
                            </div>
                            <div class="quote-line">
                                <span>Property Size:</span>
                                <span id="quoteSize">Select bedrooms</span>
                            </div>
                            <div class="quote-line">
                                <span>Estimated Time:</span>
                                <span id="quoteTime">-- hours</span>
                            </div>
                            <div class="quote-line">
                                <span>Hourly Rate:</span>
                                <span id="quoteRate">$--/hr</span>
                            </div>
                            <div class="quote-line total-line">
                                <span>Total Price:</span>
                                <span id="totalPrice">$0.00</span>
                            </div>
                        </div>
                        
                        <button id="bookNowBtn" class="book-now-btn" disabled>
                            Complete Form to Book
                        </button>
                    </div>

                    <!-- Why Choose Us -->
                    <div class="why-choose-section">
                        <h3>üåü Why Choose Maid For Heaven NYC?</h3>
                        
                        <div class="feature">
                            <div class="feature-icon">üõ°Ô∏è</div>
                            <div class="feature-content">
                                <h4>Fully Insured & Bonded</h4>
                                <p>Complete protection for your home and belongings</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">‚≠ê</div>
                            <div class="feature-content">
                                <h4>5-Star Rated Service</h4>
                                <p>Consistently rated #1 cleaning service in NYC</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">üßΩ</div>
                            <div class="feature-content">
                                <h4>Eco-Friendly Products</h4>
                                <p>Safe, non-toxic cleaning supplies for your family</p>
                            </div>
                        </div>
                        
                        <div class="feature">
                            <div class="feature-icon">üíØ</div>
                            <div class="feature-content">
                                <h4>Satisfaction Guarantee</h4>
                                <p>Not happy? We'll return within 24 hours to make it right</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- SIMPLE PAYMENT MODAL - ONLY OPENS ON BUTTON CLICK -->
    <div id="paymentModal" class="payment-modal" style="display: none;">
        <div class="payment-content">
            <h2>üéâ Ready to Book!</h2>
            <div class="booking-summary">
                <p><strong>Service:</strong> <span id="modalService">--</span></p>
                <p><strong>Date & Time:</strong> <span id="modalDateTime">--</span></p>
                <p><strong>Address:</strong> <span id="modalAddress">--</span></p>
                <p><strong>Total:</strong> <span id="modalTotal">$0.00</span></p>
            </div>
            
            <div class="payment-options">
                <h3>Choose Payment Method:</h3>
                <button onclick="completeBooking('card')" class="pay-btn card-btn">
                    üí≥ Pay with Credit/Debit Card
                </button>
                <button onclick="completeBooking('paypal')" class="pay-btn paypal-btn">
                    üÖøÔ∏è Pay with PayPal
                </button>
                <button onclick="completeBooking('later')" class="pay-btn later-btn">
                    üí∞ Book Now, Pay Later (Venmo/Zelle)
                </button>
            </div>
            
            <button onclick="closePaymentModal()" class="close-btn">Cancel</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Maid For Heaven NYC</h3>
                    <p>Professional cleaning services with 100% satisfaction guarantee.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <p>üìû (347) 759-2000</p>
                    <p>üìß info@maidforheaven.nyc</p>
                    <p>üìç Serving all 5 boroughs of NYC</p>
                </div>
                
                <div class="footer-section">
                    <h4>Service Areas</h4>
                    <p>Manhattan ‚Ä¢ Brooklyn ‚Ä¢ Queens</p>
                    <p>Bronx ‚Ä¢ Staten Island</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- CSS Styles -->
    <style>
    .payment-modal {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(0,0,0,0.8) !important;
        z-index: 999999 !important;
        display: none !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .payment-content {
        background: white !important;
        padding: 30px !important;
        border-radius: 10px !important;
        max-width: 500px !important;
        width: 90% !important;
        text-align: center !important;
    }
    
    .pay-btn {
        display: block !important;
        width: 100% !important;
        padding: 15px !important;
        margin: 10px 0 !important;
        border: none !important;
        border-radius: 5px !important;
        font-size: 18px !important;
        cursor: pointer !important;
        font-weight: bold !important;
        transition: all 0.3s !important;
    }
    
    .card-btn { background: #28a745 !important; color: white !important; }
    .paypal-btn { background: #0070ba !important; color: white !important; }
    .later-btn { background: #6f42c1 !important; color: white !important; }
    
    .pay-btn:hover {
        transform: scale(1.05) !important;
        opacity: 0.9 !important;
    }
    
    .close-btn {
        background: #dc3545 !important;
        color: white !important;
        border: none !important;
        padding: 10px 20px !important;
        border-radius: 5px !important;
        cursor: pointer !important;
        margin-top: 20px !important;
    }
    
    .booking-summary {
        background: #f8f9fa !important;
        padding: 20px !important;
        border-radius: 5px !important;
        margin: 20px 0 !important;
        text-align: left !important;
    }
    </style>

    <!-- JavaScript -->
    <script>
    // Simple booking system
    let selectedService = '';
    let hourlyRate = 0;
    let totalPrice = 0;

    // Service selection
    document.querySelectorAll('.service-option').forEach(option => {
        option.addEventListener('click', function() {
            // Remove selected class from all options
            document.querySelectorAll('.service-option').forEach(opt => opt.classList.remove('selected'));
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Update selected service
            selectedService = this.dataset.service;
            hourlyRate = parseInt(this.dataset.rate);
            
            // Update quote display
            document.getElementById('quoteService').textContent = this.querySelector('h3').textContent;
            document.getElementById('quoteRate').textContent = '$' + hourlyRate + '/hr';
            
            calculateTotal();
        });
    });

    // Property size change
    document.getElementById('bedrooms').addEventListener('change', calculateTotal);
    document.getElementById('bathrooms').addEventListener('change', calculateTotal);

    function calculateTotal() {
        const bedrooms = document.getElementById('bedrooms').value;
        const bathrooms = parseFloat(document.getElementById('bathrooms').value) || 0;
        
        if (selectedService && bedrooms && bathrooms) {
            // Calculate estimated hours based on property size
            let baseHours = 2;
            
            // Add time based on bedrooms
            switch(bedrooms) {
                case 'studio': baseHours += 0.5; break;
                case '1br': baseHours += 1; break;
                case '2br': baseHours += 1.5; break;
                case '3br': baseHours += 2; break;
                case '4br': baseHours += 2.5; break;
                case '5br': baseHours += 3; break;
            }
            
            // Add time based on bathrooms
            baseHours += (bathrooms - 1) * 0.5;
            
            // Service type multiplier
            if (selectedService === 'deep') baseHours *= 1.3;
            if (selectedService === 'moveout') baseHours *= 1.5;
            
            const estimatedHours = Math.round(baseHours * 2) / 2; // Round to nearest 0.5
            totalPrice = estimatedHours * hourlyRate;
            
            // Update display
            document.getElementById('quoteSize').textContent = bedrooms.replace('br', ' BR') + ', ' + bathrooms + ' Bath';
            document.getElementById('quoteTime').textContent = estimatedHours + ' hours';
            document.getElementById('totalPrice').textContent = '$' + totalPrice.toFixed(2);
            
            // Enable booking button if form is valid
            checkFormValidity();
        }
    }

    function checkFormValidity() {
        const requiredFields = ['bedrooms', 'bathrooms', 'preferredDate', 'preferredTime', 'address', 'name', 'email', 'phone'];
        const allFilled = requiredFields.every(field => {
            const element = document.getElementById(field);
            return element && element.value.trim() !== '';
        });
        
        const bookBtn = document.getElementById('bookNowBtn');
        if (allFilled && selectedService) {
            bookBtn.disabled = false;
            bookBtn.textContent = 'Book Now & Pay Online';
            bookBtn.style.background = '#28a745';
        } else {
            bookBtn.disabled = true;
            bookBtn.textContent = 'Complete Form to Book (' + (9 - requiredFields.filter(field => {
                const element = document.getElementById(field);
                return element && element.value.trim() !== '';
            }).length - (selectedService ? 0 : 1)) + ' fields)';
            bookBtn.style.background = '#6c757d';
        }
    }

    // Add event listeners to all form fields
    document.querySelectorAll('input, select, textarea').forEach(field => {
        field.addEventListener('change', checkFormValidity);
        field.addEventListener('input', checkFormValidity);
    });

    // Book Now button click
    document.getElementById('bookNowBtn').addEventListener('click', function(e) {
        e.preventDefault();
        
        if (this.disabled) {
            alert('‚ö†Ô∏è Please fill out all required fields before booking.');
            return;
        }
        
        openPaymentModal();
    });

    function openPaymentModal() {
        // Get form data
        const service = document.querySelector('.service-option.selected h3').textContent;
        const date = document.getElementById('preferredDate').value;
        const time = document.getElementById('preferredTime').selectedOptions[0].textContent;
        const address = document.getElementById('address').value;
        
        // Update modal content
        document.getElementById('modalService').textContent = service;
        document.getElementById('modalDateTime').textContent = date + ' - ' + time;
        document.getElementById('modalAddress').textContent = address;
        document.getElementById('modalTotal').textContent = '$' + totalPrice.toFixed(2);
        
        // Show modal
        document.getElementById('paymentModal').style.display = 'flex';
        console.log('‚úÖ Payment modal opened!');
    }

    function closePaymentModal() {
        document.getElementById('paymentModal').style.display = 'none';
        console.log('‚ùå Payment modal closed');
    }

    function completeBooking(paymentMethod) {
        const bookingId = 'MFH' + Date.now();
        let message = '';
        
        if (paymentMethod === 'card') {
            message = 'üéâ Booking Confirmed!\n\nüí≥ Payment Method: Credit/Debit Card\n\nBooking ID: #' + bookingId + '\n\nWe will contact you within 24 hours to confirm details.\n\nThank you for choosing Maid For Heaven NYC!';
        } else if (paymentMethod === 'paypal') {
            message = 'üéâ Booking Confirmed!\n\nüÖøÔ∏è Payment Method: PayPal\n\nBooking ID: #' + bookingId + '\n\nWe will contact you within 24 hours to confirm details.\n\nThank you for choosing Maid For Heaven NYC!';
        } else {
            message = 'üéâ Booking Confirmed!\n\nüí∞ Payment Method: Pay on Service Day\n\nBooking ID: #' + bookingId + '\n\nWe will contact you within 24 hours to confirm details and arrange payment.\n\nThank you for choosing Maid For Heaven NYC!';
        }
        
        alert(message);
        closePaymentModal();
        
        // Reset form after 2 seconds
        setTimeout(() => {
            location.reload();
        }, 2000);
        
        console.log('‚úÖ Booking completed with', paymentMethod);
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
        // Set minimum date to today
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('preferredDate').setAttribute('min', today);
        
        console.log('‚úÖ Clean booking system initialized - no auto-opening modal!');
    });
    </script>

    <!-- Calendar Integration Script -->
    <script src="js/calendar-integration.js"></script>
</body>
</html>

